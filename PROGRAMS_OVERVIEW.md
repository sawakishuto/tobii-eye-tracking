 # Tobii Eye Tracking プログラム一覧

## SDK比較表

| SDK | 用途 | レイテンシ | データアクセス | ライセンス | 対応デバイス |
|-----|------|-----------|--------------|-----------|-------------|
| **Tobii Pro SDK** | 研究・分析 | 最低 | 生データ（左右独立） | 研究用含む | Pro Spectrum/Fusion/Spark |
| **Game Integration API** | ゲーム開発 | 低 | 統合データ | ゲーム用 | Eye Tracker 5/4C |
| **Stream Engine API** | 汎用開発 | 中 | 基本データ | 汎用 | 全デバイス |

## プログラム詳細

### 1. tobii_pro_research.exe（研究用リアルタイムビューア）

**特徴：**
- 🚀 **超低レイテンシ**：リアルタイムでレイテンシを測定・表示
- 👁️ **詳細データ**：左右の目の個別データ、3D眼球位置、瞳孔径
- ⚡ **高速サンプリング**：デバイスの最大周波数で自動動作
- 📊 **リアルタイム表示**：データの妥当性チェック付き

**用途：**
- 研究実験のセットアップとキャリブレーション確認
- リアルタイムフィードバックが必要な実験
- システムのレイテンシ測定

### 2. tobii_pro_recorder.exe（研究用高性能レコーダー）

**特徴：**
- 💾 **高性能記録**：ダブルバッファリングで取りこぼしなし
- 🏷️ **メタデータ**：参加者ID、セッション情報を記録
- ⏱️ **精密タイムスタンプ**：デバイス時刻とシステム時刻の両方
- 📄 **CSV出力**：全生データを高精度で保存

**データ項目：**
```
- device_timestamp_us：デバイスのマイクロ秒タイムスタンプ
- system_timestamp_us：システムのマイクロ秒タイムスタンプ
- left/right_gaze_x/y：視線位置（0.0-1.0）
- left/right_origin_x/y/z_mm：3D眼球位置（mm）
- left/right_pupil_diameter_mm：瞳孔径（mm）
- 各データの有効性フラグ
```

### 3. tobii_game_integration.exe（ゲーム開発用）

**特徴：**
- 🎮 **簡単実装**：高レベルAPIで扱いやすい
- 🔄 **統合データ**：視線と頭部トラッキングを統合
- 🖼️ **ウィンドウ追跡**：自動的にウィンドウ座標に変換

### 4. gaze_recorder.exe（Game Integration API版レコーダー）

**特徴：**
- 📝 **簡易記録**：基本的な視線データの記録
- ⏯️ **開始/停止**：スペースキーで制御
- 📊 **CSV形式**：Excel等で簡単に分析可能

### 5. tobii_stream_engine.exe（基本実装）

**特徴：**
- 🔧 **低レベルAPI**：細かい制御が可能
- 📍 **基本データ**：視線位置のみ
- 🎯 **シンプル**：最小限の実装例

## 使い分けガイド

### 研究者の方へ
- **実験計画段階**：`tobii_pro_research.exe`でシステム性能を確認
- **データ収集**：`tobii_pro_recorder.exe`で高精度記録
- **必要デバイス**：Tobii Pro シリーズ（Spectrum推奨）

### ゲーム開発者の方へ
- **プロトタイプ**：`tobii_game_integration.exe`で動作確認
- **データ記録**：`gaze_recorder.exe`でプレイテスト記録
- **必要デバイス**：Tobii Eye Tracker 5など

### レイテンシ要件
- **< 10ms**：Tobii Pro SDK + Pro Spectrum（1200Hz）
- **< 20ms**：Tobii Pro SDK + Pro Fusion（250Hz）
- **< 50ms**：Game Integration API + Eye Tracker 5

## パフォーマンス最適化のヒント

### 低レイテンシ実現のために
1. **高周波数設定**：デバイスの最大周波数を使用
2. **専用スレッド**：データ処理を別スレッドで実行
3. **ダブルバッファリング**：記録時のブロッキングを回避
4. **最小限の処理**：コールバック内での処理を最小化

### データ品質向上のために
1. **キャリブレーション**：実験前に必ず実施
2. **照明条件**：適切な環境光（避けるべき：直射日光、赤外線源）
3. **距離調整**：推奨距離50-90cm（デバイスによる）
4. **定期的な検証**：長時間実験では途中でキャリブレーション確認